# 经费管理功能说明

## 功能概述

经费管理功能为社团管理员提供了智能化的财务管理工具，支持通过自然语言与AI交互来记录和管理社团财务。

## 主要功能

### 1. 智能财务助理
- **自然语言输入**：用户可以使用自然语言描述财务记录
- **AI自动解析**：AI自动解析输入内容，提取金额、类别、支付人等信息
- **多社团支持**：支持为不同社团分别记账

### 2. 财务记录展示
- **时间线显示**：按时间倒序显示所有财务记录
- **分类标签**：显示记录类别和支付人信息
- **金额标识**：收入显示为绿色，支出显示为红色

### 3. 财务统计
- **总收入**：显示所有收入记录的总和
- **总支出**：显示所有支出记录的总和
- **结余**：显示当前财务结余情况

## 使用方法

### 1. 访问经费管理
1. 登录系统后进入个人主页
2. 在"管理的社团"部分找到目标社团
3. 点击"经费管理"按钮

### 2. 添加财务记录
1. 在左侧"智能财务助理"区域输入自然语言描述
2. 例如："今天活动买了10瓶水和一包零食，一共花了55.8元，从小明那里报销。"
3. 点击"提交记录"按钮或按Ctrl+Enter快速提交
4. AI将自动解析并添加财务记录

### 3. 查看财务记录
- 右侧"财务记录"区域显示所有历史记录
- 点击"刷新"按钮可重新加载记录
- 记录按时间倒序排列，最新的记录在最上方

## API接口

### 智能财务助理接口
```
POST /financial_bookkeeping
```

**请求参数：**
- `natural_language_input` (string): 用户输入的自然语言记账文本
- `club_name` (string): 社团名称，用于区分不同社团的账目

**响应格式：**
```json
{
  "parsed_entries": [
    {
      "description": "购买活动用品",
      "amount": -55.8,
      "category": "活动用品",
      "payer": "小明",
      "type": "expense"
    }
  ],
  "confirmation_message": "已成功解析财务记录",
  "original_input": "原始输入文本"
}
```

## 测试功能

在开发环境中，可以使用"测试AI"按钮来模拟AI响应，无需实际的后端API调用。

## 注意事项

1. 只有社团管理员可以访问经费管理功能
2. 财务记录会实时更新到统计信息中
3. 建议定期刷新记录以获取最新数据
4. AI解析的准确性取决于输入描述的清晰程度

## 技术实现

- 前端：Vue 3 + TypeScript + Element Plus
- 路由：Vue Router
- 状态管理：Pinia
- HTTP请求：Axios
- AI接口：RESTful API 